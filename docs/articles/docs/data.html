<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data Example • hypeR.next</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css">
<script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="Data Example">
<meta property="og:description" content="hypeR.next">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">hypeR.next</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Docs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/docs/data.html">Data Example</a>
    </li>
    <li>
      <a href="../../articles/docs/characterization.html">Network Characterization</a>
    </li>
    <li>
      <a href="../../articles/docs/signature.html">Signature Extension</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/montilab/hypeR-next">
    <span class="fas fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="data_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Data Example</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/montilab/hypeR-next/blob/master/vignettes/docs/data.Rmd"><code>vignettes/docs/data.Rmd</code></a></small>
      <div class="hidden name"><code>data.Rmd</code></div>

    </div>

    
    
<div id="example-dataset" class="section level3">
<h3 class="hasAnchor">
<a href="#example-dataset" class="anchor"></a>Example dataset</h3>
<p>To get a sense of how this works, there is a simulated network with modular scale-free properties available. The object already has pre-defined communities that have been populated with genes from highly specific biological pathways. This data was generated through the following steps:</p>
<ol style="list-style-type: decimal">
<li>Simulate a graph structure through the Lancichinetti–Fortunato–Radicchi (LFR) benchmark model</li>
<li>Detect and define communities within the graph</li>
<li>For each community sample node labels from a biological pathway (80%) / random (20%)</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a>LFR(n<span class="op">=</span><span class="dv">600</span>, tau1<span class="op">=</span><span class="fl">2.7</span>, tau2<span class="op">=</span><span class="dv">2</span>, mu<span class="op">=</span><span class="fl">0.1</span>, min_community<span class="op">=</span><span class="dv">25</span>, max_community<span class="op">=</span><span class="dv">75</span>)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">ig</span><span class="op">)</span></code></pre></div>
<p>This package works with undirected <code>igraph</code> objects or extensions of <code>igraph</code> objects.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">is</span><span class="op">(</span><span class="va">ig</span><span class="op">)</span></code></pre></div>
<pre><code>[1] "igraph"</code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>
<span class="va">layout</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/igraph/man/layout_with_graphopt.html">layout_with_graphopt</a></span><span class="op">(</span><span class="va">ig</span>, 
                                       start<span class="op">=</span><span class="cn">NULL</span>, 
                                       niter<span class="op">=</span><span class="fl">1000</span>,
                                       charge<span class="op">=</span><span class="fl">0.005</span>,
                                       mass<span class="op">=</span><span class="fl">30</span>, 
                                       spring.length<span class="op">=</span><span class="fl">0</span>,
                                       spring.constant<span class="op">=</span><span class="fl">1</span>, 
                                       max.sa.movement<span class="op">=</span><span class="fl">5</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">ig</span>,
     vertex.size<span class="op">=</span><span class="fl">4</span>,
     vertex.color<span class="op">=</span><span class="st">"#EEEEEE"</span>,
     vertex.frame.color<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/grDevices/adjustcolor.html">adjustcolor</a></span><span class="op">(</span><span class="st">"#000000"</span>, alpha.f<span class="op">=</span><span class="fl">0.2</span><span class="op">)</span>,
     vertex.label<span class="op">=</span><span class="fu">V</span><span class="op">(</span><span class="va">ig</span><span class="op">)</span><span class="op">$</span><span class="va">symbol</span>,
     vertex.label.family<span class="op">=</span><span class="st">"Helvetica"</span>,
     vertex.label.color<span class="op">=</span><span class="st">"black"</span>,
     vertex.label.font<span class="op">=</span><span class="fl">2</span>,
     vertex.label.cex<span class="op">=</span><span class="fl">0.4</span>,
     vertex.label.dist<span class="op">=</span><span class="fl">0</span>,
     edge.width<span class="op">=</span><span class="fl">1</span>,
     layout<span class="op">=</span><span class="va">layout</span><span class="op">)</span></code></pre></div>
<p><img src="data_files/figure-html/unnamed-chunk-4-1.png" width="1152"></p>
<p>You need to perform some type of community detection. There are many algorithms but I prefer defining community structure through random walks. Walktrap looks for densely connected subgraphs through random walks at varying lengths. Whatever algorithm you use, make sure to label the nodes with their designated community through <code>V(ig)$community</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>
<span class="va">ig.c</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/igraph/man/cluster_walktrap.html">walktrap.community</a></span><span class="op">(</span><span class="va">ig</span>, steps<span class="op">=</span><span class="fl">10</span><span class="op">)</span>
<span class="fu">V</span><span class="op">(</span><span class="va">ig</span><span class="op">)</span><span class="op">$</span><span class="va">community</span> <span class="op">&lt;-</span> <span class="va">ig.c</span><span class="op">$</span><span class="va">membership</span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="fu">V</span><span class="op">(</span><span class="va">ig</span><span class="op">)</span><span class="op">$</span><span class="va">community</span><span class="op">)</span></code></pre></div>
<pre><code>
 1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 
24 42 33 41 37 34 29 25  4 66 43 55 27 26 33 45 36 </code></pre>
<p>The following vertex attributes are expected at a minimum.</p>
<ul>
<li>
<code>name</code> - Unique node labels</li>
<li>
<code>symbol</code> - Node symbols corresponding to the genesets you use<br>
</li>
<li>
<code>community</code>- Pre-detected community labels<br>
</li>
<li>
<code>color</code> - Community-specific colors</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/igraph/man/graph_from_data_frame.html">as_data_frame</a></span><span class="op">(</span><span class="va">ig</span>, what<span class="op">=</span><span class="st">"vertices"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>       community   color symbol   name
GMPS           8 #3E134F   GMPS   GMPS
PDLIM1        15 #9A9800 PDLIM1 PDLIM1
JUNB          15 #9A9800   JUNB   JUNB
RER1          17 #50E2BB   RER1   RER1
ICAM1         14 #A96C00  ICAM1  ICAM1
NPFFR2        14 #A96C00 NPFFR2 NPFFR2</code></pre>
<p>We can visualize the communities which seem well-defined. Not surprisingly since this example data was defined to be particularly modular for demonstration purposes.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">ig</span>,
     vertex.size<span class="op">=</span><span class="fl">5</span>,
     vertex.label<span class="op">=</span><span class="fu">V</span><span class="op">(</span><span class="va">ig</span><span class="op">)</span><span class="op">$</span><span class="va">community</span>,
     vertex.label.family<span class="op">=</span><span class="st">"Helvetica"</span>,
     vertex.label.color<span class="op">=</span><span class="st">"white"</span>,
     vertex.label.font<span class="op">=</span><span class="fl">2</span>,
     vertex.label.cex<span class="op">=</span><span class="fl">0.6</span>,
     vertex.label.dist<span class="op">=</span><span class="fl">0</span>,
     edge.width<span class="op">=</span><span class="fl">1</span>,
     layout<span class="op">=</span><span class="va">layout</span><span class="op">)</span></code></pre></div>
<p><img src="data_files/figure-html/unnamed-chunk-8-1.png" width="1152"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/anfederico">Anthony Federico</a>, <a href="https://github.com/tetomonti">Stefano Monti</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
